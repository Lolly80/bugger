// Generated by CoffeeScript 2.0.0-beta5
var ErrorObjectFromMessage, RemoteScript, series;
series = require('async').series;
RemoteScript = require('../remote-script');
ErrorObjectFromMessage = require('../remote-object').ErrorObjectFromMessage;
module.exports = function (debugClient) {
  var scopes;
  scopes = function (options, cb) {
    return debugClient.sendRequest('scopes', options, function (err, response) {
      var body, cache$, cache$1, fromScope, message, refs, success, toScope, totalScopes;
      cache$ = response;
      refs = cache$.refs;
      body = cache$.body;
      success = cache$.success;
      message = cache$.message;
      if (success) {
        cache$1 = body;
        fromScope = cache$1.fromScope;
        toScope = cache$1.toScope;
        totalScopes = cache$1.totalScopes;
        scopes = cache$1.scopes;
        scopes = scopes.map(function (scope) {
          return scope;
        });
        return cb(null, {
          fromScope: fromScope,
          toScope: toScope,
          totalScopes: totalScopes,
          scopes: scopes
        });
      } else {
        return cb(ErrorObjectFromMessage(options)(refs)(message));
      }
    });
  };
  return scopes;
};
